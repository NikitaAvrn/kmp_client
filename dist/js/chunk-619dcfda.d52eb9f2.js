(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-619dcfda"],{"1fc2":function(t,e,s){t.exports=s.p+"img/Ivan_kapralov.65aecfd9.jpg"},4795:function(t,e,s){var i=s("23e7"),a=s("da84"),r=s("342f"),l=[].slice,n=/MSIE .\./.test(r),o=function(t){return function(e,s){var i=arguments.length>2,a=i?l.call(arguments,2):void 0;return t(i?function(){("function"==typeof e?e:Function(e)).apply(this,a)}:e,s)}};i({global:!0,bind:!0,forced:n},{setTimeout:o(a.setTimeout),setInterval:o(a.setInterval)})},"5fe8":function(t,e,s){"use strict";s("fb6a");e["a"]={arrayCardTransform:function(t,e){for(var s=Math.ceil(t.length/e),i=new Array,a=0,r=0;r<s;r++)i[r]=new Array,i[r]=t.slice(a,a+e),a+=e;return i}}},"65e8":function(t,e,s){},"81bb":function(t,e,s){"use strict";s("65e8")},"848c":function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"page-title"},[i("h3",[t._v(t._s(t.$route.name))])]),i("div",{staticClass:"row"},[i("div",{staticClass:"col s12 m6 offset-m3"},[i("ship-flight",{attrs:{minlength:"3"},on:{"select-flight":t.selectFlight}})],1)]),i("div",{directives:[{name:"show",rawName:"v-show",value:t.PORTS.length,expression:"PORTS.length"}],staticClass:"row"},[i("div",{staticClass:"input-field col s12 m6 offset-m3"},[i("i",{staticClass:"material-icons prefix"},[t._v("domain")]),i("select",{directives:[{name:"model",rawName:"v-model",value:t.selectPort,expression:"selectPort"}],ref:"select",attrs:{multiple:""},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selectPort=e.target.multiple?s:s[0]}}},[i("option",{attrs:{value:"",disabled:""}},[t._v("Выберете порт назначения")]),t._l(t.PORTS,(function(e){return i("option",{key:e.code,domProps:{value:e.code}},[t._v(t._s(e.title))])}))],2),i("label",[t._v("Порт назначения")])])]),i("loading",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}]}),t.PORTS.length?i("div",[i("div",{staticClass:"row"},[i("div",{staticClass:"col s12 m6 offset-m3"},[i("div",{staticClass:"card"},[i("div",{staticClass:"card-image"},[i("img",{attrs:{src:s("1fc2")}}),i("span",{staticClass:"card-title"},[t._v(t._s(t.FLIGHT.title))])]),i("div",{staticClass:"card-content"},[i("p",[t._v("Рейс: "+t._s(t.FLIGHT.flight))]),i("p",[t._v("Маршрут: "+t._s(t.FLIGHT.ports[0].title)+" → "+t._s(t.FLIGHT.ports[1].title))]),i("p",[t._v("Приход во "+t._s(t.FLIGHT.ports[0].title)+": "+t._s(t.FLIGHT.ports[0].in))]),i("p",[t._v("Отход из "+t._s(t.FLIGHT.ports[0].title)+": "+t._s(t.FLIGHT.ports[0].out))]),i("p",[t._v("Приход в "+t._s(t.FLIGHT.ports[1].title)+": "+t._s(t.FLIGHT.ports[1].in))]),i("p",[t._v("Отход из "+t._s(t.FLIGHT.ports[1].title)+": "+t._s(t.FLIGHT.ports[1].out))])])])])])]):t._e(),t.docs?i("div",t._l(t.docs,(function(e,s){return i("div",{key:s,staticClass:"row"},t._l(e,(function(t){return i("div",{key:t.number,staticClass:"col s12 m4"},[i("card-manifest",{attrs:{bol:t}})],1)})),0)})),0):t._e()],1)},a=[],r=(s("4de4"),s("caad"),s("2532"),s("4795"),s("96cf"),s("1da1")),l=s("5530"),n=s("5fe8"),o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"card white"},[s("div",{staticClass:"card-content black-text"},[s("span",{staticClass:"card-title"},[t._v(t._s(t.bol.number))]),s("p",{directives:[{name:"show",rawName:"v-show",value:t.bol.container,expression:"bol.container"}]},[s("span",{staticClass:"grey-text"},[t._v("Контейнер:")]),t._v(" "+t._s(t.bol.container))]),s("p",{directives:[{name:"show",rawName:"v-show",value:t.bol.seal,expression:"bol.seal"}]},[s("span",{staticClass:"grey-text"},[t._v("Пломба:")]),t._v(" "+t._s(t.bol.seal))]),s("p",[s("span",{staticClass:"grey-text"},[t._v("Вес:")]),t._v(" "+t._s(t.bol.weight))]),s("p",{directives:[{name:"show",rawName:"v-show",value:t.bol.iso,expression:"bol.iso"}]},[s("span",{staticClass:"grey-text"},[t._v("ISO:")]),t._v(" "+t._s(t.bol.iso))]),s("p",{directives:[{name:"show",rawName:"v-show",value:t.bol.size,expression:"bol.size"}]},[s("span",{staticClass:"grey-text"},[t._v("Типоразмер:")]),t._v(" "+t._s(t.bol.size))]),s("p",{directives:[{name:"show",rawName:"v-show",value:t.bol.temperature,expression:"bol.temperature"}]},[s("span",{staticClass:"grey-text"},[t._v("Температура:")]),t._v(" "+t._s(t.bol.temperature)+"˚C")]),s("p",{directives:[{name:"show",rawName:"v-show",value:t.bol.ventilation,expression:"bol.ventilation"}]},[s("span",{staticClass:"grey-text"},[t._v("Вентиляция:")]),t._v(" "+t._s(t.bol.ventilation)+"%")]),s("p",[s("span",{staticClass:"grey-text"},[t._v("Контрагент:")]),t._v(" "+t._s(t.bol.client))]),s("p",[s("span",{staticClass:"grey-text"},[t._v("Отправитель:")]),t._v(" "+t._s(t.bol.supplier))]),s("p",[s("span",{staticClass:"grey-text"},[t._v("Получатель:")]),t._v(" "+t._s(t.bol.customer))]),s("p",[s("span",{staticClass:"grey-text"},[t._v("Адрес:")]),t._v(" "+t._s(t.bol.address))]),s("p",[s("span",{staticClass:"grey-text"},[t._v("Статус:")]),t._v(" "+t._s(t.bol.status))]),s("p",[s("span",{staticClass:"grey-text"},[t._v("Маршрут:")]),t._v(" "+t._s(t.bol.out)+" → "+t._s(t.bol.in))]),s("p",[s("span",{staticClass:"grey-text"},[t._v("Груз:")]),t._v(" "+t._s(t.bol.cargo))]),s("p",[s("span",{staticClass:"grey-text"},[t._v("Тип перевозки:")]),t._v(" "+t._s(t.bol.type))]),s("p",{directives:[{name:"show",rawName:"v-show",value:t.bol.reil,expression:"bol.reil"}]},[s("span",{staticClass:"grey-text"},[t._v("Ж/д накладная:")]),t._v(" "+t._s(t.bol.reil))]),s("p",[s("span",{staticClass:"grey-text"},[t._v("Заявка:")]),t._v(" "+t._s(t.bol.request)+" "),s("small",[t._v("от "+t._s(t.bol.requestDate))])]),s("p",[s("span",{staticClass:"grey-text"},[t._v("Счет:")]),t._v(" "+t._s(t.bol.invoice)+" "),s("small",[t._v("от "+t._s(t.bol.invoiceDate))])])]),t._m(0)])},c=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"card-action"},[s("a",{staticClass:"black-text",attrs:{href:"#"}},[s("i",{staticClass:"material-icons left"},[t._v("print")])]),s("a",{staticClass:"black-text",attrs:{href:"#"}},[s("i",{staticClass:"material-icons left"},[t._v("download")])]),s("a",{staticClass:"black-text",attrs:{href:"#"}},[s("i",{staticClass:"material-icons left"},[t._v("email")])])])}],u={props:["bol"],data:function(){return{collapsible:null}},mounted:function(){this.collapsible=M.Collapsible.init(this.$refs.collapsible,{})}},p=u,v=(s("81bb"),s("2877")),f=Object(v["a"])(p,o,c,!1,null,null,null),d=f.exports,h=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row"},[s("div",{staticClass:"input-field col s12"},[s("i",{staticClass:"material-icons prefix"},[t._v("directions_boat")]),s("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.ship,expression:"ship",modifiers:{trim:!0}}],ref:"shipflight",staticClass:"autocomplete",attrs:{type:"text",id:"ship"},domProps:{value:t.ship},on:{input:[function(e){e.target.composing||(t.ship=e.target.value.trim())},t.findShip],blur:function(e){return t.$forceUpdate()}}}),s("label",{attrs:{for:"ship"}},[t._v("Название т/х или рейс")])])])},_=[],m=(s("99af"),s("4160"),s("d3b7"),s("159b"),s("23b0")),b={props:["minlength"],data:function(){return{ship:"",shipflight:null,lastResult:[]}},mounted:function(){this.shipflight=M.Autocomplete.init(this.$refs.shipflight,{minLength:this.minlength,onAutocomplete:this.autocomplete})},beforeDestroy:function(){this.shipflight&&this.shipflight.destroy&&this.shipflight.destroy()},methods:{autocomplete:function(t){var e;this.lastResult.forEach((function(s){s.title===t&&(e=s)})),this.$emit("select-flight",e)},findShip:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var s,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.shipflight.updateData({}),t.lastResult=[],!(t.ship.length<t.minlength)){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,fetch("".concat(m.server,"directory/flight&query=").concat(t.ship),{method:"GET",mode:"cors",headers:{"Content-Type":"application/json; charset=utf-8"}}).then((function(t){return t.json()}));case 6:s=e.sent,i={},s.results&&(s.results.forEach((function(t){i[t.title]=null})),t.lastResult=s.results),t.shipflight.updateData(i),t.shipflight.open();case 11:case"end":return e.stop()}}),e)})))()}}},g=b,C=Object(v["a"])(g,h,_,!1,null,null,null),w=C.exports,y=s("2f62"),x=s("fc1c"),T={components:{CardManifest:d,ShipFlight:w,Loading:x["a"]},computed:Object(l["a"])(Object(l["a"])({},Object(y["c"])(["DOCUMENTS","PORTS","FLIGHT"])),{},{docs:function(){var t=this;if(!this.DOCUMENTS||!this.selectPort)return[];var e=this.DOCUMENTS.filter((function(e){return t.selectPort.includes(e.inCode)}));return n["a"].arrayCardTransform(e,3)}}),mounted:function(){this.CLR_DOCUMENTS(),this.CLR_FLIGHT(),this.CLR_PORTS()},beforeDestroy:function(){this.select&&this.select.destroy&&this.select.destroy()},data:function(){return{select:null,ship:null,loading:!1,selectPort:[]}},methods:Object(l["a"])(Object(l["a"])(Object(l["a"])({},Object(y["b"])(["getManifest"])),Object(y["d"])(["CLR_DOCUMENTS","CLR_PORTS","CLR_FLIGHT"])),{},{selectFlight:function(t){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function s(){return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return e.loading=!0,s.next=3,e.getManifest(t);case 3:e.loading=!1,e.initPorts();case 5:case"end":return s.stop()}}),s)})))()},initPorts:function(){this.select=M.FormSelect.init(this.$refs.select,{}),setTimeout((function(){M.updateTextFields()}),0)}})},O=T,L=Object(v["a"])(O,i,a,!1,null,null,null);e["default"]=L.exports},fb6a:function(t,e,s){"use strict";var i=s("23e7"),a=s("861d"),r=s("e8b5"),l=s("23cb"),n=s("50c4"),o=s("fc6a"),c=s("8418"),u=s("b622"),p=s("1dde"),v=s("ae40"),f=p("slice"),d=v("slice",{ACCESSORS:!0,0:0,1:2}),h=u("species"),_=[].slice,m=Math.max;i({target:"Array",proto:!0,forced:!f||!d},{slice:function(t,e){var s,i,u,p=o(this),v=n(p.length),f=l(t,v),d=l(void 0===e?v:e,v);if(r(p)&&(s=p.constructor,"function"!=typeof s||s!==Array&&!r(s.prototype)?a(s)&&(s=s[h],null===s&&(s=void 0)):s=void 0,s===Array||void 0===s))return _.call(p,f,d);for(i=new(void 0===s?Array:s)(m(d-f,0)),u=0;f<d;f++,u++)f in p&&c(i,u,p[f]);return i.length=u,i}})},fc1c:function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row"},[s("div",{staticClass:"col s12 center"},[s("div",{staticClass:"preloader-wrapper active"},[s("div",{staticClass:"spinner-layer",class:t.color},[t._m(0),t._m(1),t._m(2)])])])])},a=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"circle-clipper left"},[s("div",{staticClass:"circle"})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"gap-patch"},[s("div",{staticClass:"circle"})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"circle-clipper right"},[s("div",{staticClass:"circle"})])}],r={computed:{color:function(){var t=Math.round(4*Math.random()),e=["red","green","blue","yellow"];return"spinner-"+e[t]+"-only"}}},l=r,n=s("2877"),o=Object(n["a"])(l,i,a,!1,null,null,null);e["a"]=o.exports}}]);
//# sourceMappingURL=chunk-619dcfda.d52eb9f2.js.map